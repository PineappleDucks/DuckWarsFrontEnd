<div class="container-small container-padding">
  <span>Füllen Sie die folgenden Details aus, um sich zu registrieren.</span>
  <form [formGroup]="registerForm" class="loginForm" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <input matInput placeholder="Email" formControlName="email"
             [errorStateMatcher]="matcher">
      <mat-icon matSuffix>email</mat-icon>
      <mat-error
        *ngIf="registerForm.get('email').hasError('email') && !registerForm.get('email').hasError('required')">
        Bitte geben Sie eine gültige E-Mail-Adresse ein
      </mat-error>
      <mat-error
        *ngIf="registerForm.get('password').hasError('required') && !registerForm.get('email').hasError('email')">
        Email ist erforderlich
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput type="text" placeholder="Benutzername" formControlName="username"
             [errorStateMatcher]="matcher">
      <mat-error *ngIf="registerForm.get('username').hasError('required')">
        Benutzername ist erforderlich
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput [type]="hidePassword ? 'password' : 'text'" placeholder="Passwort" formControlName="password"
             [errorStateMatcher]="matcher">
      <mat-icon class="cursor" (click)="hidePassword = !hidePassword" matSuffix>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
      <mat-error *ngIf="registerForm.get('password').hasError('required')">
        Passwort ist erforderlich
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput [type]="matcherPassword ? 'password' : 'text'" placeholder="Passwort bestätigen" formControlName="passwordConfirm"
             [errorStateMatcher]="matcherPassword">
      <mat-icon class="cursor" (click)="hidePasswordConfirm = !hidePasswordConfirm" matSuffix>{{hidePasswordConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
      <mat-error *ngIf="registerForm.get('passwordConfirm').hasError('required')">
        Bitte bestätigen Sie Ihr Passwort
      </mat-error>
      <mat-error *ngIf="registerForm.hasError('notSame') && !registerForm.get('passwordConfirm').hasError('required')">
        Passwörter stimmen nicht überein
      </mat-error>
    </mat-form-field>
    <button type="submit" mat-raised-button color="primary" [disabled]="!registerForm.valid">Registrieren</button>
  </form>
  <span style="margin-top: 20px; display: block;"><a routerLink="/login">Sie können sich auch hier anmelden, falls Sie bereits einen Benutzeraccount haben</a></span>
</div>
